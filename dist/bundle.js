(()=>{"use strict";const t={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let e;const n=new Uint8Array(16);function r(){if(!e&&(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(n)}const o=[];for(let t=0;t<256;++t)o.push((t+256).toString(16).slice(1));const s=function(e,n,s){if(t.randomUUID&&!n&&!e)return t.randomUUID();const c=(e=e||{}).random||(e.rng||r)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,n){s=s||0;for(let t=0;t<16;++t)n[s+t]=c[t];return n}return function(t,e=0){return(o[t[e+0]]+o[t[e+1]]+o[t[e+2]]+o[t[e+3]]+"-"+o[t[e+4]]+o[t[e+5]]+"-"+o[t[e+6]]+o[t[e+7]]+"-"+o[t[e+8]]+o[t[e+9]]+"-"+o[t[e+10]]+o[t[e+11]]+o[t[e+12]]+o[t[e+13]]+o[t[e+14]]+o[t[e+15]]).toLowerCase()}(c)},c=class{constructor(t,e,n){this.id=s(),this.name=t,this.price=e,this.description=n}getId(){return this.id}getName(){return this.name}getPrice(){return this.price}getDescription(){return this.description}itemElement(){const t=document.createElement("div");t.classList.add("item");const e=document.createElement("h3");e.textContent=this.name,t.appendChild(e);const n=document.createElement("p");n.textContent=this.description,t.appendChild(n);const r=document.createElement("span");r.textContent=`Price: $${this.price}`,t.appendChild(r);const o=document.createElement("button");return o.textContent="Add to Cart",o.addEventListener("click",(()=>{m.myUser&&(m.myUser.addToCart(this),(new m).updateCart())})),t.appendChild(o),t}};class i{constructor(t,e){this.id=s(),this.name=t,this.age=e,this.cart=[]}getId(){return this.id}getName(){return this.name}getAge(){return this.age}getCart(){return this.cart}addToCart(t){console.log(`Item ${t.getName()} added to cart`),this.cart.push(t)}removeFromCart(t){this.cart=this.cart.filter((e=>e.getId()!==t.getId()))}removeQuantityFromCart(t,e){let n=0;this.cart=this.cart.filter((r=>r.getId()!==t.getId()||(n++,n>e)))}cartTotal(){return this.cart.reduce(((t,e)=>t+e.getPrice()),0)}printCart(){console.log(`User: ${this.name}'s Cart`),this.cart.forEach((t=>{console.log(`- ${t.getName()} ($${t.getPrice()})`)}))}static loginUser(){const t=document.getElementById("name-input"),e=document.getElementById("age-input"),n=t.value.trim(),r=parseInt(e.value.trim(),10);return n&&r?new i(n,r):null}cartHTMLElement(){console.log("Generating cart HTML element");const t=document.createElement("div");return t.id="cart-items",this.cart.forEach((e=>{const n=document.createElement("div");n.classList.add("cart-item");const r=document.createElement("span");r.textContent=e.getName(),n.appendChild(r);const o=document.createElement("span");o.textContent=`Price $${e.getPrice()}`,n.appendChild(o);const s=document.createElement("button");s.textContent="Remove",s.id=`remove-${e.getId()}`,n.appendChild(s),t.appendChild(n)})),t}addRemoveEventListeners(){console.log("Adding remove event listeners to cart items"),this.cart.forEach((t=>{const e=document.getElementById(`remove-${t.getId()}`);e&&(null==e||e.addEventListener("click",(()=>{this.removeFromCart(t),(new m).updateCart()})))}))}}const a=i;class d{constructor(){this.items=[];const t=new c("chicken",12,"chicken breast"),e=new c("pasta",4,"barilla penne"),n=new c("marinara sauce",5,"prego"),r=new c("broccoli",5,"chopped frozen broccoli crowns"),o=new c("eggs",3,"dozen farm fresh eggs"),s=new c("chocolate milk",5,"fairlife chocolate milk");this.items.push(t,e,n,r,o,s)}getitems(){return this.items}showItems(){const t=document.getElementById("shop");this.items.forEach((e=>{const n=e.itemElement();t.appendChild(n)}))}updateCart(){console.log("Updating cart display");const t=document.getElementById("cart");if(t.innerHTML="",d.myUser&&0!==d.myUser.getCart().length){const e=d.myUser.cartHTMLElement();t.appendChild(e),d.myUser.addRemoveEventListeners()}else t.textContent="Cart is empty"}static loginUser(t){t.preventDefault();const e=a.loginUser();if(e){d.myUser=e;const t=new d;t.showItems(),t.updateCart()}}}const m=d;document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("login-form");null==t||t.addEventListener("submit",m.loginUser)}))})();